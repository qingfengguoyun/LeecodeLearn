<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/font-awesome/css/font-awesome.css" rel="stylesheet">

    <link href="/css/animate.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet">

    <!-- Toastr style -->
    <link href="/css/plugins/toastr/toastr.min.css" rel="stylesheet">
</head>
<body>
<!--评论板块-->
<div class="row" style="border: 1px solid #e2e5e7;padding: 0px 0px;margin: 0px 0px; width: 100%" th:if="${commentDtoPage!=null}">
    <div class="col-lg-12">
        <h2>评论:</h2>
        <!--        单个评论-->
        <div class="social-feed-box" style="overflow: hidden" th:each="commentDto:${commentDtoPage.list}">
            <div class="social-avatar">
                <a href="" class="float-left">
                    <img alt="image" th:src="'/img/'+${commentDto.userPhoto}">
                </a>
                <div class="media-body">
                    <a href="#" th:text="${commentDto.userName}"></a>
                    <small class="text-muted" th:text="${commentDto.commentDate}"></small>
                </div>
            </div>
            <div class="social-body" style="color: #908eb8;padding-bottom:0px "
                 th:if="${commentDto.parentCommentContent!=null}">
                <span>回复：</span>
                <p th:utext="${commentDto.parentCommentContent}"></p>
            </div>
            <div class="social-body" style="overflow-x: scroll;width: 100%">
                <p th:utext="${commentDto.commentContent}"></p>
            </div>
            <div class="social-body">
                <p>
                    <button type="button" class="btn btn-outline btn-primary" style="display: inline-block;float: right" th:attrappend="commentId=${commentDto.commentId}" onclick="showReply(this)">回复</button>
                </p>
            </div>
            <div class="social-body" th:attrappend="commentId=${commentDto.commentId}" style="overflow: hidden">
                放置回复框
            </div>
            <!--            提交评论按钮-->
            <div class="social-body" th:attrappend="admitId=${commentDto.commentId}" style="float: right;" hidden="hidden">
                <button type="button" class="btn btn-outline btn-primary quitComment"  onclick="quit(this)">取消</button>
                <button type="button" class="btn btn-outline btn-primary admitComment"  onclick="admit(this)">发送</button>
            </div>
        </div>
        <!--        换页按钮-->
        <div class="ibox-content">
            <div class="btn-group">
                <!--                上一页按钮-->
                <button type="button" class="btn btn-white" th:if="${commentDtoPage['pageNo']>1}"
                        th:onclick="|queryCommentByArticleIdAndPageNo(${commentDtoPage.list[0].articleId},${commentDtoPage['pageNo']-1})|">
                    <i class="fa fa-chevron-left"></i>
                </button>
                <button type="button" class="btn btn-white" th:if="${commentDtoPage['pageNo']==1}">
                    <i class="fa fa-chevron-left"></i>
                </button>
                <!--                页数按钮-->
                <div th:each="i: ${#numbers.sequence(commentDtoPage['pageNo']-5,commentDtoPage['pageNo']+5)}">
                    <button class="btn btn-white" th:if="${i>0 and i<=commentDtoPage.pages}" th:text="${i}"
                            th:classappend="${commentDtoPage.pageNo==i?'active':''}"
                            th:onclick="|queryCommentByArticleIdAndPageNo(${commentDtoPage.list[0].articleId},${i})|">
                    </button>

                </div>
                <!--                下一页按钮-->
                <button type="button" class="btn btn-white" th:if="${commentDtoPage['pageNo']<commentDtoPage.pages}"
                        th:onclick="|queryCommentByArticleIdAndPageNo(${commentDtoPage.list[0].articleId},${commentDtoPage['pageNo']+1})|">
                    <i class="fa fa-chevron-right"></i>
                </button>
                <button type="button" class="btn btn-white" th:if="${commentDtoPage['pageNo']==commentDtoPage.pages}">
                    <i class="fa fa-chevron-right"></i>
                </button>
            </div>
        </div>
    </div>

</div>
</body>

</html>